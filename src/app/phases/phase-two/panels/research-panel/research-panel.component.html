<div id="research-panel" class="panel delay-2">
  <p class="panel-title">
    <mat-icon color="accent">lightbulb_outline</mat-icon>
     Research
  </p>

  <p class="info info-right">
    Efficiency: {{ universeService.universe.machines["RudimentaryResearcher"].efficiency | number:'1.1-3' }}
  </p>
  <p class="info">
    Researchers: {{ universeService.universe.machines["RudimentaryResearcher"].quantity }}
  </p>

  <div *ngFor="let project of projectList">
    <button 
      *ngIf="shouldShow(project)"
      mat-raised-button color="accent" 
      class="deploy-button"
      (click)="researchService.startProject(project)"
      [disabled]="!canResearch()">

      {{ project.name }} ({{ project.displayCost() }})
      <br/>
      <small>{{ project.description }}</small>
      
      <mat-progress-bar color="accent"
        *ngIf="project.progress() > 0"
        [value]="project.progress()"
      ></mat-progress-bar>
    
    </button>
  </div>


  <form #assignmentForm="ngForm">
    <p class="assignment-header info">Researcher assignment:</p>

    <table>
      <tr>
        <td>Project research</td>
        <td class="right-align">
          <input
            type="number"
            name="projectResearchers"
            [value]="projectResearchers()"
            readonly
          />
        </td>
      </tr>

      <tr>
        <td>Researcher improvement</td>
        <td class="right-align">
          <input
            type="number"
            name="researchImprovement"
            [ngModel]="universeService.universe.machines['RudimentaryResearcher'].extras.researchImprovement"
            (ngModelChange)="onResImpChange($event)"
            min="0"
            [max]="researchMax()"
            (focus)="$event.target.select()"
          />
        </td>
        <td>
          <mat-progress-spinner color="accent"
            *ngIf="researchImprovers() > 0"
            mode="indeterminate"
            diameter="12"
            strokeWidth="1"
          ></mat-progress-spinner>
        </td>
      </tr>

      <tr>
        <td>Contraption improvement</td>
        <td class="right-align">
          <input 
            type="number"
            name="contraptionImprovement"
            [(ngModel)]="universeService.universe.machines['RudimentaryResearcher'].extras.contraptionImprovement"
            min="0"
            [max]="constructionMax()"
            (focus)="$event.target.select()"
          />
        </td>
        <td>
            <mat-progress-spinner color="accent"
              *ngIf="contraptionImprovers() > 0"
              mode="indeterminate"
              diameter="12"
              strokeWidth="1"
            ></mat-progress-spinner>
          </td>
        </tr>
    </table>

  </form>

</div>